@model List<Linares_Tarea4.Models.Perro>

@{
    ViewData["Title"] = "Lista de Perros";
}

<h2 style="text-align:center; color:#1693A5; font-family:'Segoe UI', sans-serif;">Lista de Perros</h2>

<div style="text-align:center; margin-bottom:15px;">
    <button id="ordenarBtn" 
            style="background-color:#7ECECA; border:none; padding:10px 15px; border-radius:8px; cursor:pointer; font-weight:bold; margin-right:10px;">
        Ordenar A-Z
    </button>

    <select id="filtroTamano" 
            style="background-color:#A0DED6; border:none; padding:10px; border-radius:8px; cursor:pointer; font-weight:bold;">
        <option value="todos">Todos</option>
        <option value="Pequeño">Pequeño</option>
        <option value="Mediano">Mediano</option>
        <option value="Grande">Grande</option>
    </select>
</div>

<div id="contenedorPerros" 
     style="display:grid; grid-template-columns:repeat(auto-fill, minmax(220px, 1fr)); gap:20px; padding:20px;">
    @foreach (var perro in Model)
    {
        <div class="tarjeta-perro" data-tamano="@perro.Tamano"
             style="background-color:#A0DED6; border-radius:15px; padding:15px; text-align:center; box-shadow:0 4px 6px rgba(0,0,0,0.1); transition:transform 0.2s;">
            <img src="@perro.ImagenUrl" alt="@perro.Nombre" style="width:100%; height:150px; object-fit:cover; border-radius:10px;">
            <h3 style="color:#1693A5;">@perro.Nombre</h3>
            <p><strong>Tamaño:</strong> @perro.Tamano</p>
            <p><strong>Peso:</strong> @perro.Peso</p>
            <p><strong>Edad:</strong> @perro.Edad </p>
        </div>
    }
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const contenedor = document.getElementById("contenedorPerros");
        const btnOrdenar = document.getElementById("ordenarBtn");
        const filtroTamano = document.getElementById("filtroTamano");

        // Ordenar de A a Z
        btnOrdenar.addEventListener("click", function () {
            let tarjetas = Array.from(contenedor.getElementsByClassName("tarjeta-perro"));
            tarjetas.sort((a, b) => {
                let nombreA = a.querySelector("h3").textContent.toLowerCase();
                let nombreB = b.querySelector("h3").textContent.toLowerCase();
                return nombreA.localeCompare(nombreB);
            });
            contenedor.innerHTML = "";
            tarjetas.forEach(t => contenedor.appendChild(t));
        });

        // Filtrar por tamaño
        filtroTamano.addEventListener("change", function () {
            let valor = this.value;
            document.querySelectorAll(".tarjeta-perro").forEach(tarjeta => {
                if (valor === "todos" || tarjeta.dataset.tamano === valor) {
                    tarjeta.style.display = "block";
                } else {
                    tarjeta.style.display = "none";
                }
            });
        });

        // Animación hover
        document.querySelectorAll(".tarjeta-perro").forEach(tarjeta => {
            tarjeta.addEventListener("mouseenter", () => {
                tarjeta.style.transform = "scale(1.05)";
            });
            tarjeta.addEventListener("mouseleave", () => {
                tarjeta.style.transform = "scale(1)";
            });
        });
    });
</script>
